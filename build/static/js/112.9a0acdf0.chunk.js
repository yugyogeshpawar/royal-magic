"use strict";(self.webpackChunkRoyal_Magic=self.webpackChunkRoyal_Magic||[]).push([[112],{3112:function(r,e,s){s.r(e),s.d(e,{default:function(){return q}});var n=s(9860),t=s(4813),o=s(9019),i=s(5898),a=s(1113),d=s(9536),l=s(547),c=s(5602),u=s(7313),h=s(7829),m=s(1550),x=s(3306),w=s(9914),p=s(1727),j=s(7131),Z=s(5480),P=s(9099),g=s(7890),f=s(4285),b=s(3463),y=s(9429),C=s(237),v=s(2611),S=s(2889),k=s(976),B=s(6417);var I=r=>{let{...e}=r;const[s,t]=(0,u.useState)(!1),[i,d]=(0,u.useState)(!1),[l,c]=(0,u.useState)(!1),I=(0,g.s0)(),{changePassword:q}=(0,f.Z)(),D=()=>{t(!s)},M=r=>{r.preventDefault()},_=()=>{d(!i)},z=()=>{c(!l)},F=r=>{r.preventDefault()},W=r=>{r.preventDefault()},A=(0,n.Z)(),E=(0,S.Z)();return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(o.ZP,{container:!0,direction:"column",justifyContent:"center",spacing:2,children:(0,B.jsx)(o.ZP,{item:!0,xs:12,container:!0,alignItems:"center",justifyContent:"center",children:(0,B.jsx)(h.Z,{sx:{mb:2},children:(0,B.jsx)(a.Z,{variant:"subtitle1",children:"Enter New Password"})})})}),(0,B.jsx)(y.J9,{initialValues:{currentPassword:"",password:"",confirmPassword:"",submit:null},validationSchema:b.Ry().shape({currentPassword:b.Z_().max(255).required("Current Password is required"),password:b.Z_().max(255).required("Password is required"),confirmPassword:b.Z_().oneOf([b.iH("password"),null],"Passwords must match").required("Confirm Password is required")}),onSubmit:async(r,e)=>{let{setErrors:s,setStatus:n,setSubmitting:t}=e;try{console.log(r),await q(r.currentPassword,r.password,r.confirmPassword),E.current&&(n({success:!0}),t(!1)),I("/")}catch(o){console.error(o),E.current&&(n({success:!1}),s({submit:o.message}),t(!1))}},children:r=>{let{errors:n,handleBlur:t,handleChange:o,handleSubmit:a,isSubmitting:d,touched:c,values:u}=r;return(0,B.jsxs)("form",{noValidate:!0,onSubmit:a,...e,children:[(0,B.jsxs)(m.Z,{fullWidth:!0,error:Boolean(c.currentPassword&&n.currentPassword),sx:{...A.typography.customInput},children:[(0,B.jsx)(x.Z,{htmlFor:"outlined-adornment-current-password",children:"Current Password"}),(0,B.jsx)(w.Z,{id:"outlined-adornment-current-password",type:l?"text":"password",value:u.currentPassword,name:"currentPassword",onBlur:t,onChange:o,endAdornment:(0,B.jsx)(p.Z,{position:"end",children:(0,B.jsx)(j.Z,{"aria-label":"toggle current password visibility",onClick:z,onMouseDown:F,edge:"end",size:"large",children:l?(0,B.jsx)(C.Z,{}):(0,B.jsx)(v.Z,{})})}),label:"Current Password",inputProps:{}}),c.currentPassword&&n.currentPassword&&(0,B.jsx)(Z.Z,{error:!0,id:"standard-weight-helper-text-current-password",children:n.currentPassword})]}),(0,B.jsxs)(m.Z,{fullWidth:!0,error:Boolean(c.password&&n.password),sx:{...A.typography.customInput},children:[(0,B.jsx)(x.Z,{htmlFor:"outlined-adornment-password-login",children:"Password"}),(0,B.jsx)(w.Z,{id:"outlined-adornment-password-login",type:s?"text":"password",value:u.password,name:"password",onBlur:t,onChange:o,endAdornment:(0,B.jsx)(p.Z,{position:"end",children:(0,B.jsx)(j.Z,{"aria-label":"toggle password visibility",onClick:D,onMouseDown:M,edge:"end",size:"large",children:s?(0,B.jsx)(C.Z,{}):(0,B.jsx)(v.Z,{})})}),label:"Password",inputProps:{}}),c.password&&n.password&&(0,B.jsx)(Z.Z,{error:!0,id:"standard-weight-helper-text-password-login",children:n.password})]}),(0,B.jsxs)(m.Z,{fullWidth:!0,error:Boolean(c.confirmPassword&&n.confirmPassword),sx:{...A.typography.customInput},children:[(0,B.jsx)(x.Z,{htmlFor:"outlined-adornment-confirm-password",children:"Confirm Password"}),(0,B.jsx)(w.Z,{id:"outlined-adornment-confirm-password",type:i?"text":"password",value:u.confirmPassword,name:"confirmPassword",onBlur:t,onChange:o,endAdornment:(0,B.jsx)(p.Z,{position:"end",children:(0,B.jsx)(j.Z,{"aria-label":"toggle confirm password visibility",onClick:_,onMouseDown:W,edge:"end",size:"large",children:i?(0,B.jsx)(C.Z,{}):(0,B.jsx)(v.Z,{})})}),label:"Confirm Password",inputProps:{}}),c.confirmPassword&&n.confirmPassword&&(0,B.jsx)(Z.Z,{error:!0,id:"standard-weight-helper-text-confirm-password",children:n.confirmPassword})]}),n.submit&&(0,B.jsx)(h.Z,{sx:{mt:3},children:(0,B.jsx)(Z.Z,{error:!0,children:n.submit})}),(0,B.jsx)(h.Z,{sx:{mt:2},children:(0,B.jsx)(k.Z,{children:(0,B.jsx)(P.Z,{disableElevation:!0,disabled:d,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Change Password"})})})]})}})]})};var q=()=>{const r=(0,n.Z)(),e=(0,t.Z)(r.breakpoints.down("md"));return(0,B.jsx)(l.Z,{children:(0,B.jsx)(o.ZP,{container:!0,direction:"column",justifyContent:"flex-end",children:(0,B.jsx)(o.ZP,{item:!0,xs:12,children:(0,B.jsx)(o.ZP,{container:!0,justifyContent:"center",alignItems:"center",children:(0,B.jsx)(o.ZP,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:(0,B.jsx)(c.Z,{children:(0,B.jsxs)(o.ZP,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[(0,B.jsx)(o.ZP,{item:!0,xs:12,children:(0,B.jsx)(o.ZP,{container:!0,direction:e?"column-reverse":"row",alignItems:"center",justifyContent:"center",children:(0,B.jsx)(o.ZP,{item:!0,children:(0,B.jsx)(i.Z,{alignItems:"center",justifyContent:"center",spacing:1,children:(0,B.jsx)(a.Z,{color:r.palette.secondary.main,gutterBottom:!0,variant:e?"h3":"h2",children:"Change Password"})})})})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,children:(0,B.jsx)(I,{})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,children:(0,B.jsx)(d.Z,{})})]})})})})})})})}}}]);