"use strict";(self.webpackChunkRoyal_Magic=self.webpackChunkRoyal_Magic||[]).push([[589],{3160:function(e,t,a){a.d(t,{DZ:function(){return v},IL:function(){return j},NJ:function(){return b},SH:function(){return A},b_:function(){return y},cO:function(){return f},o8:function(){return I},on:function(){return Z},ty:function(){return k},wg:function(){return T}});var r=a(6373),n=a(6573);let s=[],o=[],c=[],i=[],l=[],d=[],u=[],h=[];const g={ActiveUsersSucess:!1,userBlockedSuccess:!1,InvestmentSucess:!1,InactiveUsersSucess:!1},m={isLoading:!1,error:!1,users:[],stakingHistory:[]},S=(0,r.oM)({name:"user",initialState:m,reducers:{startLoading(e){e.isLoading=!0},hasError(e,t){e.isLoading=!1,e.error=t.payload},getStackingSuccess(e,t){e.isLoading=!1,e.stakingHistory=t.payload},getTeamsSuccess(e,t){e.isLoading=!1,e.output=t.payload}}}),w={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"v1.0.1"}.PORT||"https://backend.royalmagic.live/api/admin";S.reducer;const{onToggleFollow:x,deleteUser:p}=S.actions;async function f(){if(!g.ActiveUsersSucess)try{const e={Authorization:`Bearer ${window.localStorage.getItem("adminAccessToken")}`,"Referrer-Policy":"unsafe-url"},t=await n.Z.get(`${w}/activeUser`,{headers:e});g.ActiveUsersSucess=!0,s=t.data}catch(e){console.log(e),g.ActiveUsersSucess=!1}return s}async function y(){if(!g.userBlockedSuccess)try{const e={Authorization:`Bearer ${window.localStorage.getItem("adminAccessToken")}`,"Referrer-Policy":"unsafe-url"},t=await n.Z.get(`${w}/blockedUser`,{headers:e});c=t.data,g.userBlockedSuccess=!0}catch(e){console.log(e),g.userBlockedSuccess=!1}return c}async function v(){if(!g.InactiveUsersSucess)try{const e={Authorization:`Bearer ${window.localStorage.getItem("adminAccessToken")}`,"Referrer-Policy":"unsafe-url"},t=await n.Z.get(`${w}/inactive-users`,{headers:e});o=t.data,g.InactiveUsersSucess=!0}catch(e){console.log(e),g.InactiveUsersSucess=!1}return o}async function k(){if(!g.InvestmentSucess)try{const e={Authorization:`Bearer ${window.localStorage.getItem("adminAccessToken")}`},t=await n.Z.get(`${w}/summary`,{headers:e});i=t.data,g.InvestmentSucess=!0}catch(e){console.log(e),g.InvestmentSucess=!1,i=e}return i}async function b(){if(!g.WithdrawSucess)try{const e={Authorization:`Bearer ${window.localStorage.getItem("adminAccessToken")}`},t=await n.Z.get(`${w}/withdrawRequest`,{headers:e});console.log(t.data),l=t.data,g.WithdrawSucess=!0}catch(e){console.log(e),g.WithdrawSucess=!1,l=e}return l}async function I(){if(!g.WithdrawSucess)try{const e={Authorization:`Bearer ${window.localStorage.getItem("adminAccessToken")}`},t=await n.Z.get(`${w}/withdrawRequest`,{headers:e});console.log(t.data),l=t.data,g.WithdrawSucess=!0}catch(e){console.log(e),g.WithdrawSucess=!1,l=e}return l}async function Z(e){if(!g.SearchSucess)try{const t={Authorization:`Bearer ${window.localStorage.getItem("adminAccessToken")}`},a=await n.Z.get(`${w}/search?search=${e}`,{headers:t});d=a.data,g.SearchSucess=!0}catch(t){console.log(t),g.SearchSucess=!1,d=t}return d}async function A(e){if(!g.SearchDashboardSucess)try{const t={Authorization:`Bearer ${window.localStorage.getItem("adminAccessToken")}`},a=await n.Z.get(`${w}/search-dashboard?userID=${e}`,{headers:t});u=a.data,g.SearchDashboardSucess=!0}catch(t){console.log(t),g.SearchDashboardSucess=!1,u=t}return u}async function j(e){if(!g.blockUser)try{const t=window.localStorage.getItem("adminAccessToken"),a=await(0,n.Z)({method:"post",url:`${w}/block-user`,headers:{authorization:`Bearer ${t}`,"Content-Type":"application/json"},data:{userID:e}});h=a.data,g.blockUser=!0}catch(t){console.log(t),g.blockUser=!1,h=t}return h}async function T(e){if(!g.blockUser)try{const t=window.localStorage.getItem("adminAccessToken"),a=await(0,n.Z)({method:"post",url:`${w}/unblock-user`,headers:{authorization:`Bearer ${t}`,"Content-Type":"application/json"},data:{userID:e}});h=a.data,g.blockUser=!0}catch(t){console.log(t),g.blockUser=!1,h=t}return h}},4589:function(e,t,a){a.r(t);var r=a(7313),n=a(4631),s=a(9099),o=a(7829),c=a(1113),i=a(9019),l=a(5904),d=a(3208),u=a(4710),h=a(3160),g=a(6594),m=a(6417);t.default=()=>{const[e,t]=(0,r.useState)(""),[a,S]=(0,r.useState)(""),[w,x]=(0,r.useState)(""),[p,f]=(0,r.useState)(""),[y,v]=r.useState(""),[k,b]=(0,r.useState)(""),[I,Z]=(0,r.useState)({dashboardError:"",blockError:"",unBlockError:""});(0,r.useEffect)((()=>{console.log(y)}),[y]);return(0,m.jsxs)(o.Z,{component:"form",noValidate:!0,autoComplete:"off",sx:{display:"flex",flexDirection:"column",background:"white",width:"100%",p:4,borderRadius:"20px",height:"100%"},children:[(0,m.jsx)(c.Z,{variant:"h2",sx:{mb:3},children:"Search User"}),(0,m.jsxs)(i.ZP,{container:!0,sx:{mb:2},rowSpacing:1,columnSpacing:1,children:[(0,m.jsx)(i.ZP,{item:!0,xs:12,md:6,children:(0,m.jsx)(n.Z,{label:"UserId/ Wallet Address",variant:"outlined",value:e,onChange:e=>{t(e.target.value),b("")},error:""!==k,helperText:k,style:{marginRight:"1rem",width:"100%"}})}),(0,m.jsx)(i.ZP,{item:!0,xs:12,md:3,children:(0,m.jsx)(s.Z,{variant:"contained",onClick:async()=>{if(""===e.trim())return void b("Please enter a search query.");console.log("Searching for:",e);const t=await(0,h.on)(e);console.log(t),S(t.data[0].member_user_id),x(t.data[0].wallet_address),console.log(new Date(t.data[0].registration_date)),f(t.data[0].topup_amount)},sx:{marginTop:"4px",px:4,py:1,width:"100%"},children:"Submit"})})]}),(0,m.jsx)(c.Z,{variant:"h3",sx:{mb:3,mt:5},children:"Member Information"}),(0,m.jsxs)(i.ZP,{container:!0,sx:{mb:2},rowSpacing:1,columnSpacing:1,children:[(0,m.jsx)(i.ZP,{item:!0,xs:12,md:3,children:(0,m.jsx)(n.Z,{label:"User ID",variant:"outlined",value:a,onChange:e=>{S(e.target.value)},style:{marginRight:"1rem",width:"100%"},InputProps:{readOnly:!0}})}),(0,m.jsx)(i.ZP,{item:!0,xs:12,md:6,children:(0,m.jsx)(n.Z,{label:"Wallet Address",variant:"outlined",value:w,onChange:e=>{x(e.target.value)},sx:{marginRight:"1rem",width:"100%"},InputProps:{readOnly:!0}})}),(0,m.jsx)(i.ZP,{item:!0,xs:12,md:3,children:(0,m.jsx)(d._,{dateAdapter:l.y,children:(0,m.jsx)(u.M,{label:"Registration Date",value:y,onChange:e=>v(e)})})})]}),(0,m.jsxs)(i.ZP,{container:!0,rowSpacing:1,columnSpacing:1,children:[(0,m.jsx)(i.ZP,{item:!0,xs:12,md:3,children:(0,m.jsx)(n.Z,{label:"Investment Amt  ",variant:"outlined",value:p,onChange:e=>{f(e.target.value)},sx:{marginRight:"1rem",width:"100%"},InputProps:{readOnly:!0}})}),(0,m.jsxs)(i.ZP,{item:!0,xs:12,md:3,sx:{px:3},children:[(0,m.jsx)(s.Z,{variant:"contained",onClick:async()=>{if(!a)return Z.dashboardError("User ID is empty or undefined."),void console.log(a);const e=await(0,h.SH)(a);(0,g.K)(e.token),window.location.replace("/dashboard")},sx:{width:"100%",py:1,marginTop:"4px"},children:"DashBoard"}),I.dashboardError&&(0,m.jsx)(c.Z,{variant:"body2",color:"error",sx:{mt:1},children:I.dashboardError})]}),(0,m.jsx)(i.ZP,{item:!0,xs:12,md:3,sx:{px:3},children:(0,m.jsx)(s.Z,{variant:"contained",onClick:async()=>{if(!a)return Z.blockError("User ID is empty or undefined."),void console.log(a);const e=await(0,h.IL)(a);console.log(e)},sx:{backgroundColor:"red",width:"100%",py:1,marginTop:"4px"},children:"Block User"})}),(0,m.jsx)(i.ZP,{item:!0,xs:12,md:3,sx:{px:3},children:(0,m.jsx)(s.Z,{variant:"contained",onClick:async()=>{if(!a)return Z.unBlockError("User ID is empty or undefined."),void console.log(a);const e=await(0,h.wg)(a);console.log(e)},sx:{backgroundColor:"red",width:"100%",py:1,marginTop:"4px"},children:"UnBlock User"})})]})]})}}}]);