"use strict";(self.webpackChunkRoyal_Magic=self.webpackChunkRoyal_Magic||[]).push([[88],{3160:function(e,t,n){n.d(t,{DZ:function(){return b},IL:function(){return A},LU:function(){return C},NJ:function(){return Z},SH:function(){return P},b_:function(){return v},cO:function(){return f},ib:function(){return T},o8:function(){return I},on:function(){return j},ty:function(){return k},wg:function(){return U}});var a=n(6373),r=n(6573);let o=[],s=[],i=[],c=[],l=[],d=[],u=[],h=[],g=[];const m={ActiveUsersSucess:!1,userBlockedSuccess:!1,InvestmentSucess:!1,InactiveUsersSucess:!1},p={isLoading:!1,error:!1,users:[],stakingHistory:[]},w=(0,a.oM)({name:"user",initialState:p,reducers:{startLoading(e){e.isLoading=!0},hasError(e,t){e.isLoading=!1,e.error=t.payload},getStackingSuccess(e,t){e.isLoading=!1,e.stakingHistory=t.payload},getTeamsSuccess(e,t){e.isLoading=!1,e.output=t.payload}}}),S={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"v1.0.1"}.PORT||"https://backend.royalmagic.live/api/admin";w.reducer;const{onToggleFollow:y,deleteUser:x}=w.actions;async function f(){if(!m.ActiveUsersSucess)try{const e={Authorization:`Bearer ${window.localStorage.getItem("adminAccessToken")}`,"Referrer-Policy":"unsafe-url"},t=await r.Z.get(`${S}/activeUser`,{headers:e});m.ActiveUsersSucess=!0,o=t.data}catch(e){console.log(e),m.ActiveUsersSucess=!1}return o}async function v(){if(!m.userBlockedSuccess)try{const e={Authorization:`Bearer ${window.localStorage.getItem("adminAccessToken")}`,"Referrer-Policy":"unsafe-url"},t=await r.Z.get(`${S}/blockedUser`,{headers:e});i=t.data,m.userBlockedSuccess=!0}catch(e){console.log(e),m.userBlockedSuccess=!1}return i}async function b(){if(!m.InactiveUsersSucess)try{const e={Authorization:`Bearer ${window.localStorage.getItem("adminAccessToken")}`,"Referrer-Policy":"unsafe-url"},t=await r.Z.get(`${S}/inactive-users`,{headers:e});s=t.data,m.InactiveUsersSucess=!0}catch(e){console.log(e),m.InactiveUsersSucess=!1}return s}async function k(){if(!m.InvestmentSucess)try{const e={Authorization:`Bearer ${window.localStorage.getItem("adminAccessToken")}`},t=await r.Z.get(`${S}/summary`,{headers:e});c=t.data,m.InvestmentSucess=!0}catch(e){console.log(e),m.InvestmentSucess=!1,c=e}return c}async function Z(){if(!m.WithdrawSucess)try{const e={Authorization:`Bearer ${window.localStorage.getItem("adminAccessToken")}`},t=await r.Z.get(`${S}/withdrawRequest`,{headers:e});console.log(t.data),l=t.data,m.WithdrawSucess=!0}catch(e){console.log(e),m.WithdrawSucess=!1,l=e}return l}async function I(){if(!m.WithdrawSucess)try{const e={Authorization:`Bearer ${window.localStorage.getItem("adminAccessToken")}`},t=await r.Z.get(`${S}/withdrawRequest`,{headers:e});console.log(t.data),l=t.data,m.WithdrawSucess=!0}catch(e){console.log(e),m.WithdrawSucess=!1,l=e}return l}async function j(e){if(!m.SearchSucess)try{const t={Authorization:`Bearer ${window.localStorage.getItem("adminAccessToken")}`},n=await r.Z.get(`${S}/search?search=${e}`,{headers:t});d=n.data,m.SearchSucess=!0}catch(t){console.log(t),m.SearchSucess=!1,d=t}return d}async function T(e,t){try{const n=window.localStorage.getItem("adminAccessToken");return await(0,r.Z)({method:"post",url:`${S}/change-password`,headers:{authorization:`Bearer ${n}`,"Content-Type":"application/json"},data:{userID:e,newPassword:t}})}catch(n){return void console.log(n)}}async function P(e){if(!m.SearchDashboardSucess)try{const t={Authorization:`Bearer ${window.localStorage.getItem("adminAccessToken")}`},n=await r.Z.get(`${S}/search-dashboard?userID=${e}`,{headers:t});u=n.data,m.SearchDashboardSucess=!0}catch(t){console.log(t),m.SearchDashboardSucess=!1,u=t}return u}async function A(e){if(!m.blockUser)try{const t=window.localStorage.getItem("adminAccessToken"),n=await(0,r.Z)({method:"post",url:`${S}/block-user`,headers:{authorization:`Bearer ${t}`,"Content-Type":"application/json"},data:{userID:e}});h=n.data,m.blockUser=!0}catch(t){console.log(t),m.blockUser=!1,h=t}return h}async function U(e){if(!m.blockUser)try{const t=window.localStorage.getItem("adminAccessToken"),n=await(0,r.Z)({method:"post",url:`${S}/unblock-user`,headers:{authorization:`Bearer ${t}`,"Content-Type":"application/json"},data:{userID:e}});h=n.data,m.blockUser=!0}catch(t){console.log(t),m.blockUser=!1,h=t}return h}async function C(e){if(!m.activate)try{const t=window.localStorage.getItem("adminAccessToken"),n=await(0,r.Z)({method:"post",url:`${S}/postActivateUser`,headers:{authorization:`Bearer ${t}`,"Content-Type":"application/json"},data:{userID:e}});g=n.data,m.activate=!0}catch(t){console.log(t),m.activate=!1,g=t}return g}},4589:function(e,t,n){n.r(t);var a=n(7313),r=n(4631),o=n(9099),s=n(7829),i=n(1113),c=n(9019),l=n(6617),d=n(3160),u=n(6594),h=n(6417);t.default=()=>{const[e,t]=(0,a.useState)(""),[n,g]=(0,a.useState)(""),[m,p]=(0,a.useState)(""),[w,S]=(0,a.useState)(""),[y,x]=(0,a.useState)(""),[f,v]=a.useState(""),[b,k]=(0,a.useState)(""),[Z,I]=(0,a.useState)({dashboardError:"",blockError:"",unBlockError:""});(0,a.useEffect)((()=>{console.log(f)}),[f]);const j=e=>{S(e.target.value)};return(0,h.jsxs)(s.Z,{component:"form",noValidate:!0,autoComplete:"off",sx:{display:"flex",flexDirection:"column",background:"white",width:"100%",p:4,borderRadius:"20px",height:"100%"},children:[(0,h.jsx)(i.Z,{variant:"h2",sx:{mb:3},children:"Search User"}),(0,h.jsxs)(c.ZP,{container:!0,sx:{mb:2},rowSpacing:1,columnSpacing:1,children:[(0,h.jsx)(c.ZP,{item:!0,xs:12,md:6,children:(0,h.jsx)(r.Z,{label:"UserId/ Wallet Address",variant:"outlined",value:e,onChange:e=>{t(e.target.value),k("")},error:""!==b,helperText:b,style:{marginRight:"1rem",width:"100%"}})}),(0,h.jsx)(c.ZP,{item:!0,xs:12,md:3,children:(0,h.jsx)(o.Z,{variant:"contained",onClick:async()=>{if(""===e.trim())return void k("Please enter a search query.");console.log("Searching for:",e);const t=await(0,d.on)(e);console.log(t),p(t.data[0].member_user_id),S(t.data[0].wallet_address),console.log(new Date(t.data[0].registration_date)),x(t.data[0].topup_amount),v((0,l.Z)(new Date(t.data[0].activation_date),"dd-MM-yyyy"))},sx:{marginTop:"4px",px:4,py:1,width:"100%"},children:"Submit"})})]}),(0,h.jsx)(i.Z,{variant:"h3",sx:{mb:3,mt:5},children:"Member Information"}),(0,h.jsxs)(c.ZP,{container:!0,sx:{mb:2},rowSpacing:1,columnSpacing:1,children:[(0,h.jsx)(c.ZP,{item:!0,xs:12,md:3,children:(0,h.jsx)(r.Z,{label:"User ID",variant:"outlined",value:m,onChange:e=>{p(e.target.value)},style:{marginRight:"1rem",width:"100%"},InputProps:{readOnly:!0}})}),(0,h.jsx)(c.ZP,{item:!0,xs:12,md:6,children:(0,h.jsx)(r.Z,{label:"Wallet Address",variant:"outlined",value:w,onChange:j,sx:{marginRight:"1rem",width:"100%"},InputProps:{readOnly:!0}})}),(0,h.jsx)(c.ZP,{item:!0,xs:12,md:3,children:(0,h.jsx)(r.Z,{label:"Registration Date",variant:"outlined",value:f,onChange:j,sx:{marginRight:"1rem",width:"100%"},InputProps:{readOnly:!0}})})]}),(0,h.jsx)(c.ZP,{container:!0,rowSpacing:1,columnSpacing:1,children:(0,h.jsx)(c.ZP,{item:!0,xs:12,md:3,children:(0,h.jsx)(r.Z,{label:"Investment Amt  ",variant:"outlined",value:y,onChange:e=>{x(e.target.value)},sx:{marginRight:"1rem",width:"100%"},InputProps:{readOnly:!0}})})}),(0,h.jsxs)(c.ZP,{container:!0,rowSpacing:1,columnSpacing:1,sx:{mt:2},children:[(0,h.jsxs)(c.ZP,{item:!0,xs:12,md:3,sx:{px:3},children:[(0,h.jsx)(o.Z,{variant:"contained",onClick:async()=>{if(!m)return I.dashboardError("User ID is empty or undefined."),void console.log(m);const e=await(0,d.SH)(m);(0,u.K)(e.token),window.location.replace("/dashboard")},sx:{width:"100%",py:1,marginTop:"4px"},children:"DashBoard"}),Z.dashboardError&&(0,h.jsx)(i.Z,{variant:"body2",color:"error",sx:{mt:1},children:Z.dashboardError})]}),(0,h.jsx)(c.ZP,{item:!0,xs:12,md:3,sx:{px:3},children:(0,h.jsx)(o.Z,{variant:"contained",onClick:async()=>{if(!m)return I.blockError("User ID is empty or undefined."),void console.log(m);const e=await(0,d.IL)(m);console.log(e)},sx:{backgroundColor:"red",width:"100%",py:1,marginTop:"4px"},children:"Block User"})}),(0,h.jsx)(c.ZP,{item:!0,xs:12,md:3,sx:{px:3},children:(0,h.jsx)(o.Z,{variant:"contained",onClick:async()=>{if(!m)return I.unBlockError("User ID is empty or undefined."),void console.log(m);const e=await(0,d.wg)(m);console.log(e)},sx:{backgroundColor:"red",width:"100%",py:1,marginTop:"4px"},children:"UnBlock User"})}),(0,h.jsx)(c.ZP,{item:!0,xs:12,md:3,sx:{px:3},children:(0,h.jsx)(o.Z,{variant:"contained",onClick:async()=>{if(!m)return I.unBlockError("User ID is empty or undefined."),void console.log(m);const e=await(0,d.LU)(m);console.log(e)},sx:{backgroundColor:"green",width:"100%",py:1,marginTop:"4px"},children:"Activate"})})]}),(0,h.jsxs)(c.ZP,{container:!0,sx:{mb:2,mt:2},rowSpacing:1,columnSpacing:1,children:[(0,h.jsx)(c.ZP,{item:!0,xs:12,md:4,children:(0,h.jsx)(r.Z,{label:"New Password",variant:"outlined",value:n,onChange:e=>{g(e.target.value)},error:""!==b,helperText:b,style:{marginRight:"1rem",width:"100%"}})}),(0,h.jsx)(c.ZP,{item:!0,xs:12,md:3,children:(0,h.jsx)(o.Z,{variant:"contained",onClick:async()=>{if(""===n.trim())return void alert("please enter password");if(""===m.trim())return void alert("please select userID");const e=await(0,d.ib)(m,n);console.log(e)},sx:{marginTop:"4px",px:4,py:1,width:"100%"},children:"Change Password"})})]})]})}},1002:function(e,t,n){function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}n.d(t,{Z:function(){return a}})}}]);